# Pintos
Pintos is a tiny operating system for x86 machines. It is used mainly for educational purposes. Extending Pintos's support for threads, user programs, scheduler, and file system can be helpful as an introduction to operating system concepts. In Sharif's `ce 424` course, we implemented a slightly more complex file system than the original one, extended the functionality of previous system calls and implemented new ones, and implemented a strict priority based scheduling for threads with support for priority donation in locks.

## Build and run
Under the `userprog/` directory, calling make builds the kernel object 
``kernel.o``. There's also a `loader.bin` program with 512 bytes of size which loads the kernel image into memory during boot. Since this `kernel.o` object contains debug information, another `kernel.bin` binary is generated by the Makefile which is `kernel.o` excluding debug information to meet the memory constraint of 512 KB in this small system. 

Using `loader.bin` and `kernel.bin` file should enable booting the pintos through any x86 system emulator. To simplify the matters, a `src/utils/` directory is provided that contains `pintos` program which will run pintos in `Bochs` emulator by default, or in `Qemu` if specified in input flags.

The most meaningful work one would do with the current pintos source is to run a test. Tests can be found under `src/tests`. Using the following command you can run a specific test:
`pintos -v -k -T 60 --qemu  --filesys-size=2 -p tests/userprog/do-nothing -a do-nothing -- -q  -f run do-nothing`
To understand different flags of this command, refer to the reference section of [0].

# References
[0] https://web.stanford.edu/class/cs140/projects/pintos/pintos.pdf <br>
[1] https://inst.eecs.berkeley.edu/~cs162/sp20/static/projects/proj1_pregame.pdf
